<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../../../bootstrap.min.js"></script><link href="../../../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../../../nav.js"></script><script type="text/javascript" src="../../../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../../../",platforms: ["types"]};</script><title>RigidBody - BabylonOpenfl</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="types"><a href="#">types</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">com.element.oimo.physics.dynamics.RigidBody</span></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>剛体のクラスです。
剛体は衝突処理用に単数あるいは複数の形状を持ち、
それぞれ個別にパラメーターを設定できます。
@author saharan</p></div><h2>Class Fields</h2><div class="platform platform-types"><a name="BODY_DYNAMIC"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#BODY_DYNAMIC"><span class="identifier">BODY_DYNAMIC</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p>動的な剛体を表す剛体の種類です。</p></div></div><div class="platform platform-types"><a name="BODY_STATIC"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#BODY_STATIC"><span class="identifier">BODY_STATIC</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p>静的な剛体を表す剛体の種類です。</p></div></div><div class="platform platform-types"><a name="MAX_SHAPES"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#MAX_SHAPES"><span class="identifier">MAX_SHAPES</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p>一つの剛体に追加できる形状の最大数です。</p></div></div><h2>Instance Fields</h2><div class="platform platform-types"><a name="addedToIsland"></a><h3><p><code><span class="keyword">var</span> <a href="#addedToIsland"><span class="identifier">addedToIsland</span></a>:<span class="type">Bool</span></code></p></h3><div class="doc"><p>剛体がシミュレーションアイランドに追加されたかどうかを示します。
この変数は内部でのみ使用されます。</p></div></div><div class="platform platform-types"><a name="allowSleep"></a><h3><p><code><span class="keyword">var</span> <a href="#allowSleep"><span class="identifier">allowSleep</span></a>:<span class="type">Bool</span></code></p></h3><div class="doc"><p>剛体をスリープさせるかを示します。
シミュレーションアイランド内の全ての剛体が静止している状態が一定時間続くと、
そのシミュレーションアイランドはスリープ状態に入ります。
スリープしている剛体は awake メソッドが呼び出されるか、
外部からの干渉を受けるまで、スリープ状態が解除されることはありません。</p></div></div><div class="platform platform-types"><a name="angularVelocity"></a><h3><p><code><span class="keyword">var</span> <a href="#angularVelocity"><span class="identifier">angularVelocity</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Vec3.html">Vec3</a></code></p></h3><div class="doc"><p>角速度です。</p></div></div><div class="platform platform-types"><a name="contactLink"></a><h3><p><code><span class="keyword">var</span> <a href="#contactLink"><span class="identifier">contactLink</span></a>:<a class="type" href="../../../../../com/element/oimo/physics/constraint/contact/ContactLink.html">ContactLink</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="controlRot"></a><h3><p><code><span class="keyword">var</span> <a href="#controlRot"><span class="identifier">controlRot</span></a>:<span class="type">Bool</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="inverseInertia"></a><h3><p><code><span class="keyword">var</span> <a href="#inverseInertia"><span class="identifier">inverseInertia</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Mat33.html">Mat33</a></code></p></h3><div class="doc"><p>ワールド系での慣性テンソルの逆行列です。
<strong>この変数は外部から変更しないでください。</strong></p>
<p>ワールド系での慣性テンソルの逆行列は、ステップ毎に
姿勢と初期状態の慣性テンソルの逆数から再計算されます。</p></div></div><div class="platform platform-types"><a name="inverseLocalInertia"></a><h3><p><code><span class="keyword">var</span> <a href="#inverseLocalInertia"><span class="identifier">inverseLocalInertia</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Mat33.html">Mat33</a></code></p></h3><div class="doc"><p>初期状態での慣性テンソルの逆行列です。
<strong>この変数は外部から変更しないでください。</strong></p>
<p>慣性テンソルは setupMass メソッドを呼び出すと、
含まれている形状から自動で再計算されます。</p></div></div><div class="platform platform-types"><a name="inverseMass"></a><h3><p><code><span class="keyword">var</span> <a href="#inverseMass"><span class="identifier">inverseMass</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p>質量の逆数です。
<strong>この変数は外部から変更しないでください。</strong></p>
<p>質量は setupMass メソッドを呼び出すと、
含まれている形状から自動で再計算されます。</p></div></div><div class="platform platform-types"><a name="isDynamic"></a><h3><p><code><span class="keyword">var</span> <a href="#isDynamic"><span class="identifier">isDynamic</span></a>:<span class="type">Bool</span></code></p></h3><div class="doc"><p>この剛体が動的な剛体であるかどうかを示します。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="isStatic"></a><h3><p><code><span class="keyword">var</span> <a href="#isStatic"><span class="identifier">isStatic</span></a>:<span class="type">Bool</span></code></p></h3><div class="doc"><p>この剛体が静的な剛体であるかどうかを示します。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="jointLink"></a><h3><p><code><span class="keyword">var</span> <a href="#jointLink"><span class="identifier">jointLink</span></a>:<a class="type" href="../../../../../com/element/oimo/physics/constraint/joint/JointLink.html">JointLink</a></code></p></h3><div class="doc"><p>剛体に接続されているジョイントのリンク配列です。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="linearVelocity"></a><h3><p><code><span class="keyword">var</span> <a href="#linearVelocity"><span class="identifier">linearVelocity</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Vec3.html">Vec3</a></code></p></h3><div class="doc"><p>並進速度です。</p></div></div><div class="platform platform-types"><a name="localInertia"></a><h3><p><code><span class="keyword">var</span> <a href="#localInertia"><span class="identifier">localInertia</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Mat33.html">Mat33</a></code></p></h3><div class="doc"><p>初期状態での慣性テンソルです。
<strong>この変数は外部から変更しないでください。</strong></p>
<p>慣性テンソルは setupMass メソッドを呼び出すと、
含まれている形状から自動で再計算されます。</p></div></div><div class="platform platform-types"><a name="mass"></a><h3><p><code><span class="keyword">var</span> <a href="#mass"><span class="identifier">mass</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p>質量です。
<strong>この変数は外部から変更しないでください。</strong></p>
<p>質量は setupMass メソッドを呼び出すと、
含まれている形状から自動で再計算されます。</p></div></div><div class="platform platform-types"><a name="massInfo"></a><h3><p><code><span class="keyword">var</span> <a href="#massInfo"><span class="identifier">massInfo</span></a>:<a class="type" href="../../../../../com/element/oimo/physics/collision/shape/MassInfo.html">MassInfo</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="name"></a><h3><p><code><span class="keyword">var</span> <a href="#name"><span class="identifier">name</span></a>:<span class="type">String</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="newOrientation"></a><h3><p><code><span class="keyword">var</span> <a href="#newOrientation"><span class="identifier">newOrientation</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Quaternion.html">Quaternion</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="next"></a><h3><p><code><span class="keyword">var</span> <a href="#next"><span class="identifier">next</span></a>:<a class="type" href="../../../../../com/element/oimo/physics/dynamics/RigidBody.html">RigidBody</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="numContacts"></a><h3><p><code><span class="keyword">var</span> <a href="#numContacts"><span class="identifier">numContacts</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="numJoints"></a><h3><p><code><span class="keyword">var</span> <a href="#numJoints"><span class="identifier">numJoints</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p>剛体に接続されているジョイントの数です。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="numShapes"></a><h3><p><code><span class="keyword">var</span> <a href="#numShapes"><span class="identifier">numShapes</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p>剛体に含まれている形状の数です。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="orientation"></a><h3><p><code><span class="keyword">var</span> <a href="#orientation"><span class="identifier">orientation</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Quaternion.html">Quaternion</a></code></p></h3><div class="doc"><p>姿勢を表すクォータニオンです。</p></div></div><div class="platform platform-types"><a name="parent"></a><h3><p><code><span class="keyword">var</span> <a href="#parent"><span class="identifier">parent</span></a>:<a class="type" href="../../../../../com/element/oimo/physics/dynamics/World.html">World</a></code></p></h3><div class="doc"><p>剛体が追加されているワールドです。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="position"></a><h3><p><code><span class="keyword">var</span> <a href="#position"><span class="identifier">position</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Vec3.html">Vec3</a></code></p></h3><div class="doc"><p>重心のワールド座標です。</p></div></div><div class="platform platform-types"><a name="prev"></a><h3><p><code><span class="keyword">var</span> <a href="#prev"><span class="identifier">prev</span></a>:<a class="type" href="../../../../../com/element/oimo/physics/dynamics/RigidBody.html">RigidBody</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="rotation"></a><h3><p><code><span class="keyword">var</span> <a href="#rotation"><span class="identifier">rotation</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Mat33.html">Mat33</a></code></p></h3><div class="doc"><p>姿勢を表す回転行列です。
<strong>この変数は外部から変更しないでください。</strong></p>
<p>回転行列は、ステップ毎にクォータニオンから再計算されます。</p></div></div><div class="platform platform-types"><a name="shapes"></a><h3><p><code><span class="keyword">var</span> <a href="#shapes"><span class="identifier">shapes</span></a>:<a class="type" href="../../../../../com/element/oimo/physics/collision/shape/Shape.html">Shape</a></code></p></h3><div class="doc"><p>剛体に含まれている形状の配列です。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="sleepOrientation"></a><h3><p><code><span class="keyword">var</span> <a href="#sleepOrientation"><span class="identifier">sleepOrientation</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Quaternion.html">Quaternion</a></code></p></h3><div class="doc"><p>スリープ直前での姿勢を表すクォータニオンです。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="sleepPosition"></a><h3><p><code><span class="keyword">var</span> <a href="#sleepPosition"><span class="identifier">sleepPosition</span></a>:<a class="type" href="../../../../../com/element/oimo/math/Vec3.html">Vec3</a></code></p></h3><div class="doc"><p>スリープ直前での重心のワールド座標です。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="sleepTime"></a><h3><p><code><span class="keyword">var</span> <a href="#sleepTime"><span class="identifier">sleepTime</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p>剛体が静止してからの時間です。
<strong>この変数は外部から変更しないでください。</strong></p></div></div><div class="platform platform-types"><a name="sleeping"></a><h3><p><code><span class="keyword">var</span> <a href="#sleeping"><span class="identifier">sleeping</span></a>:<span class="type">Bool</span></code></p></h3><div class="doc"><p>剛体がスリープ状態であるかどうかを示します。
<strong>この変数は外部から変更しないでください。</strong>
剛体をスリープさせる場合は sleep メソッドを、
剛体のスリープ状態を解除する場合は awake メソッドを呼び出してください。</p></div></div><div class="platform platform-types"><a name="type"></a><h3><p><code><span class="keyword">var</span> <a href="#type"><span class="identifier">type</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p>剛体の種類を表します。
<strong>この変数は外部から変更しないでください。</strong></p>
<p>剛体の種類を変更する場合は、必ず
setupMass メソッドの引数に設定したい種類を指定してください。</p></div></div><div class="platform platform-types"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>(?x:<span class="type">Float</span> = 0, ?y:<span class="type">Float</span> = 0, ?z:<span class="type">Float</span> = 0, ?rad:<span class="type">Float</span> = 0, ?ax:<span class="type">Float</span> = 0, ?ay:<span class="type">Float</span> = 0, ?az:<span class="type">Float</span> = 0):<span class="type">Void</span></code></p></h3><div class="doc"><p>新しく RigidBody オブジェクトを作成します。
回転成分を指定することもできます。</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>x</td><td></td></tr><tr><td>y</td><td></td></tr><tr><td>z</td><td></td></tr><tr><td>rad</td><td><p>ラジアンでの回転角度</p></td></tr><tr><td>ax</td><td><p>回転軸の x 成分</p></td></tr><tr><td>ay</td><td><p>回転軸の y 成分</p></td></tr><tr><td>az</td><td><p>回転軸の z 成分</p></td></tr></tbody></table></div></div><div class="platform platform-types"><a name="addShape"></a><h3><p><code><span class="keyword">function</span> <a href="#addShape"><span class="identifier">addShape</span></a>(newShape:<a class="type" href="../../../../../com/element/oimo/physics/collision/shape/Shape.html">Shape</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>剛体に形状を追加します。
形状を追加した場合、次のステップ開始までに setupMass メソッドを呼び出してください。</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>shape</td><td><p>追加する形状</p></td></tr></tbody></table></div></div><div class="platform platform-types"><a name="applyImpulse"></a><h3><p><code><span class="keyword">function</span> <a href="#applyImpulse"><span class="identifier">applyImpulse</span></a>(position:<a class="type" href="../../../../../com/element/oimo/math/Vec3.html">Vec3</a>, force:<a class="type" href="../../../../../com/element/oimo/math/Vec3.html">Vec3</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="awake"></a><h3><p><code><span class="keyword">function</span> <a href="#awake"><span class="identifier">awake</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Awake the rigid body.</p></div></div><div class="platform platform-types"><a name="getMatrix"></a><h3><p><code><span class="keyword">function</span> <a href="#getMatrix"><span class="identifier">getMatrix</span></a>():<span class="type">Array</span>&lt;<span class="type">Float</span>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="isLonely"></a><h3><p><code><span class="keyword">function</span> <a href="#isLonely"><span class="identifier">isLonely</span></a>():<span class="type">Bool</span></code></p></h3><div class="doc"><p>Get whether the rigid body has not any connection with others.
@return</p></div></div><div class="platform platform-types"><a name="removeShape"></a><h3><p><code><span class="keyword">function</span> <a href="#removeShape"><span class="identifier">removeShape</span></a>(shape:<a class="type" href="../../../../../com/element/oimo/physics/collision/shape/Shape.html">Shape</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>剛体から形状を削除します。
形状を削除した場合、次のステップ開始までに setupMass メソッドを呼び出してください。</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>shape</td><td><p>削除する形状</p></td></tr></tbody></table></div></div><div class="platform platform-types"><a name="rotationAxisToQuad"></a><h3><p><code><span class="keyword">function</span> <a href="#rotationAxisToQuad"><span class="identifier">rotationAxisToQuad</span></a>(rad:<span class="type">Float</span>, ax:<span class="type">Float</span>, ay:<span class="type">Float</span>, az:<span class="type">Float</span>):<a class="type" href="../../../../../com/element/oimo/math/Quaternion.html">Quaternion</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="rotationVectToQuad"></a><h3><p><code><span class="keyword">function</span> <a href="#rotationVectToQuad"><span class="identifier">rotationVectToQuad</span></a>(rotX:<span class="type">Float</span>, rotY:<span class="type">Float</span>, rotZ:<span class="type">Float</span>):<a class="type" href="../../../../../com/element/oimo/math/Quaternion.html">Quaternion</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="setOrientation"></a><h3><p><code><span class="keyword">function</span> <a href="#setOrientation"><span class="identifier">setOrientation</span></a>(x:<span class="type">Float</span>, y:<span class="type">Float</span>, z:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="setPosition"></a><h3><p><code><span class="keyword">function</span> <a href="#setPosition"><span class="identifier">setPosition</span></a>(x:<span class="type">Float</span>, y:<span class="type">Float</span>, z:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="setQuaternion"></a><h3><p><code><span class="keyword">function</span> <a href="#setQuaternion"><span class="identifier">setQuaternion</span></a>(x:<span class="type">Float</span>, y:<span class="type">Float</span>, z:<span class="type">Float</span>, w:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="setRotation"></a><h3><p><code><span class="keyword">function</span> <a href="#setRotation"><span class="identifier">setRotation</span></a>(rotX:<span class="type">Float</span>, rotY:<span class="type">Float</span>, rotZ:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-types"><a name="setupMass"></a><h3><p><code><span class="keyword">function</span> <a href="#setupMass"><span class="identifier">setupMass</span></a>(?type:<span class="type">Int</span> = 1, ?adjustPosition:<span class="type">Bool</span> = true):<span class="type">Void</span></code></p></h3><div class="doc"><p>Calulates mass datas(center of gravity, mass, moment inertia, etc...).
If the parameter type is set to BODY_STATIC, the rigid body will be fixed to the space.
If the parameter adjustPosition is set to true, the shapes' relative positions and
the rigid body's position will be adjusted to the center of gravity.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>type</td><td></td></tr><tr><td>null</td><td><p>adjustPosition</p></td></tr></tbody></table></div></div><div class="platform platform-types"><a name="sleep"></a><h3><p><code><span class="keyword">function</span> <a href="#sleep"><span class="identifier">sleep</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Sleep the rigid body.</p></div></div><div class="platform platform-types"><a name="updatePosition"></a><h3><p><code><span class="keyword">function</span> <a href="#updatePosition"><span class="identifier">updatePosition</span></a>(timeStep:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>剛体の運動を時間積分し、形状などの情報を更新します。
このメソッドはワールドのステップを呼ぶと自動で呼び出されるので、
通常は外部から呼ぶ必要はありません。</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>timeStep</td><td><p>時間刻み幅</p></td></tr></tbody></table></div></div></div></div></div></body></html>